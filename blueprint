blueprint:
  name: MQTT Payload for Single Raspberry Pi
  description: Send a test JSON payload to a specified Raspberry Pi via MQTT.
  domain: automation
  input:
    trigger:
      name: Trigger
      description: Define the trigger for the automation.
      selector:
        trigger:
    hostname:
      name: Raspberry Pi Hostname
      description: Enter the hostname of the Raspberry Pi (e.g., blueberry01).
      selector:
        text:

trigger: !input 'trigger'

action:
  - service: system_log.write
    data_template:
      message: "Debug - Hostname: {{ hostname | trim }}"
      level: warning
  - service: mqtt.publish
    data_template:
      topic: "home/{{ hostname | trim }}/action"
      payload: '{"test": "payload"}'
