blueprint:
  name: MQTT Payload for Single Raspberry Pi with Debug
  description: Send a test JSON payload to a specified Raspberry Pi via MQTT, with debugging.
  domain: automation
  input:
    trigger:
      name: Trigger
      description: Define the trigger for the automation.
      selector:
        trigger:
    hostname:
      name: Raspberry Pi Hostname
      description: Enter the hostname of the Raspberry Pi (e.g., blueberry01).
      selector:
        text:

trigger: !input 'trigger'

action:
  - variables:
      debug_hostname: "{{ hostname | trim }}"
  - service: system_log.write
    data:
      message: "Debug - Hostname: {{ debug_hostname }}"
      level: warning
  - service: mqtt.publish
    data_template:
      topic: "home/{{ debug_hostname }}/action"
      payload: '{"test": "payload"}'
