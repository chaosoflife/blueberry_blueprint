blueprint:
  name: MQTT Payload for Single Raspberry Pi
  description: Send a test JSON payload to a specified Raspberry Pi via MQTT.
  domain: automation
  input:
    trigger:
      name: Trigger
      description: Define the trigger for the automation.
      selector:
        trigger:
    test_hostname:
      name: Raspberry Pi Hostname
      description: Enter the hostname of the Raspberry Pi (e.g., blueberry01).
      selector:
        text:
    test_payload:
      name: Test Payload
      description: Enter the test JSON payload.
      default: '{"test": "payload"}'
      selector:
        text:

trigger: !input 'trigger'

action:
  - service: system_log.write
    data_template:
      message: "Debug - Hostname: {{ test_hostname | trim }}"
      level: warning
  - service: mqtt.publish
    data_template:
      topic: "home/{{ test_hostname | trim }}/action"
      payload: "{{ test_payload }}"
