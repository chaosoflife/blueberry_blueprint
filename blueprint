blueprint:
  name: MQTT JSON Message Sender22
  description: Sends a user-defined JSON MQTT message on a specified trigger.
  domain: automation
  input:
    trigger:
      name: Trigger
      description: Define the trigger for the automation.
      selector:
        trigger: {}
    json_payload:
      name: JSON Payload
      description: JSON data to send as payload.
      selector:
        text: {}
    mqtt_topic:
      name: MQTT Topic
      default: "home/+/action"
      selector:
        text: {}

trigger: !input trigger

action:
  - service: mqtt.publish
    data:
      topic: !input mqtt_topic
      payload: !input json_payload
      retain: false
